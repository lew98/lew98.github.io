\documentclass[12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{geometry}
\usepackage{amsfonts}
\usepackage{mathrsfs}
\usepackage{bm}
\usepackage{hyperref}
\usepackage[dvipsnames]{xcolor}
\usepackage[inline]{enumitem}
\usepackage{mathtools}
\usepackage{changepage}
\usepackage{lipsum}
\usepackage{tikz}
\usetikzlibrary{matrix, patterns, decorations.pathreplacing, calligraphy}
\usepackage{tikz-cd}
\usepackage[nameinlink]{cleveref}
\geometry{
headheight=15pt,
left=60pt,
right=60pt
}
\setlength{\emergencystretch}{20pt}
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\lhead{}
\chead{Section 4.3 Exercises}
\rhead{\thepage}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    urlcolor=blue
}

\theoremstyle{definition}
\newtheorem*{remark}{Remark}

\newtheoremstyle{exercise}
    {}
    {}
    {}
    {}
    {\bfseries}
    {.}
    { }
    {\thmname{#1}\thmnumber{#2}\thmnote{ (#3)}}
\theoremstyle{exercise}
\newtheorem{exercise}{Exercise 4.3.}

\newtheoremstyle{solution}
    {}
    {}
    {}
    {}
    {\itshape\color{magenta}}
    {.}
    { }
    {\thmname{#1}\thmnote{ #3}}
\theoremstyle{solution}
\newtheorem*{solution}{Solution}

\Crefformat{exercise}{#2Exercise 4.3.#1#3}

\newcommand{\interior}[1]{%
  {\kern0pt#1}^{\mathrm{o}}%
}
\newcommand{\ts}{\textsuperscript}
\newcommand{\setcomp}[1]{#1^{\mathsf{c}}}
\newcommand{\quand}{\quad \text{and} \quad}
\newcommand{\N}{\mathbf{N}}
\newcommand{\Z}{\mathbf{Z}}
\newcommand{\Q}{\mathbf{Q}}
\newcommand{\I}{\mathbf{I}}
\newcommand{\R}{\mathbf{R}}
\newcommand{\C}{\mathbf{C}}

\DeclarePairedDelimiter\abs{\lvert}{\rvert}
% Swap the definition of \abs* and \norm*, so that \abs
% and \norm resizes the size of the brackets, and the 
% starred version does not.
\makeatletter
\let\oldabs\abs
\def\abs{\@ifstar{\oldabs}{\oldabs*}}
%
\let\oldnorm\norm
\def\norm{\@ifstar{\oldnorm}{\oldnorm*}}
\makeatother

\setlist[enumerate,1]{label={(\alph*)}}

\begin{document}

\section{Section 4.3 Exercises}

Exercises with solutions from Section 4.3 of \hyperlink{ua}{[UA]}.

\begin{exercise}
\label{ex:1}
    Let \( g(x) = \sqrt[3]{x} \).
    \begin{enumerate}
        \item Prove that \( g \) is continuous at \( c = 0 \).

        \item Prove that \( g \) is continuous at a point \( c \neq 0 \). (The identity \( a^3 - b^3 = (a - b)(a^2 + ab + b^2) \) will be helpful.)
    \end{enumerate}
\end{exercise}

\begin{solution}
    \begin{enumerate}
        \item Let \( \epsilon > 0 \) be given and set \( \delta = \epsilon^3 \). Then provided we take \( x \in \R \) such that \( \abs{x} < \delta \), we will have
        \[
            \abs{\sqrt[3]{x}} = \sqrt[3]{\abs{x}} < \sqrt[3]{\delta} = \epsilon.
        \]
        Thus \( g \) is continuous at \( c = 0 \).

        \item Taking \( a = x^{1/3} \) and \( b = c^{1/3} \) in the identity \( a^3 - b^3 = (a - b)(a^2 + ab + b^2) \) gives
        \begin{align*}
            x - c &= \left( x^{1/3} - c^{1/3} \right) \left( x^{2/3} + (xc)^{1/3} + c^{2/3} \right) \\[2mm]
            \implies \abs{x - c} &= \abs{x^{1/3} - c^{1/3}} \abs{x^{2/3} + (xc)^{1/3} + c^{2/3}}.
        \end{align*}
        If we take \( x \) close enough to \( c \) so that \( x \) and \( c \) have the same sign, i.e.\ take \( x \) such that \( \abs{x - c} < \abs{c} \), then \( xc > 0 \) and so
        \[
            \abs{x^{2/3} + (xc)^{1/3} + c^{2/3}} = x^{2/3} + (xc)^{1/3} + c^{2/3} \geq c^{2/3}.
        \]
        Set \( \delta = \min \{ \abs{c}, c^{2/3} \epsilon \} \) and suppose \( x \in \R \) is such that \( \abs{x - c} < \delta \). By the previous discussion, we then have
        \[
            \abs{x^{1/3} - c^{1/3}} \leq \frac{\abs{x - c}}{c^{2/3}} < \frac{\delta}{c^{2/3}} < \epsilon.
        \]
        Thus \( g \) is continuous at \( c \).
    \end{enumerate}
\end{solution}

\begin{exercise}
\label{ex:2}
    To gain a deeper understanding of the relationship between \( \epsilon \) and \( \delta \) in the definition of continuity, let's explore some modest variations of Definition 4.3.1. In all of these, let \( f \) be a function defined on all of \( \R \).
    \begin{enumerate}
        \item Let's say \( f \) is \textit{onetinuous} at \( c \) if for all \( \epsilon > 0 \) we can choose \( \delta = 1 \) and it follows that \( \abs{f(x) - f(c)} < \epsilon \) whenever \( \abs{x - c} < \delta \). Find an example of a function that is onetinuous on all of \( \R \).

        \item Let's say \( f \) is \textit{equaltinuous} at \( c \) if for all \( \epsilon > 0 \) we can choose \( \delta = \epsilon \) and it follows that \( \abs{f(x) - f(c)} < \epsilon \) whenever \( \abs{x - c} < \delta \). Find an example of a function that is equaltinuous on \( \R \) that is nowhere onetinuous, or explain why there is no such function.
        
        \item Let's say \( f \) is \textit{lesstinuous} at \( c \) if for all \( \epsilon > 0 \) we can choose \( 0 < \delta < \epsilon \) and it follows that \( \abs{f(x) - f(c)} < \epsilon \) whenever \( \abs{x - c} < \delta \). Find an example of a function that is lesstinuous on \( \R \) that is nowhere equaltinuous, or explain why there is no such function.

        \item Is every lesstinuous function continuous? Is every continuous function lesstinuous? Explain.
    \end{enumerate}
\end{exercise}

\begin{solution}
    \begin{enumerate}
        \item Let \( f \) be given by \( f(x) = 0 \) for all \( x \in \R \). Fix \( c \in \R \) and let \( \epsilon > 0 \) be given. If \( x \in \R \) is such that \( \abs{x - c} < 1 \), then
        \[
            \abs{f(x) - f(c)} = \abs{0 - 0} = 0 < \epsilon.
        \]
        Thus \( f \) is onetinuous on \( \R \).

        \item Let \( f \) be given by \( f(x) = x \) for all \( x \in \R \). Fix \( c \in \R \) and let \( \epsilon > 0 \) be given. If \( x \in \R \) is such that \( \abs{x - c} < \epsilon \), then
        \[
            \abs{f(x) - f(c)} = \abs{x - c} < \epsilon.
        \]
        Thus \( f \) is equaltinuous on \( \R \). However, \( f \) is nowhere onetinuous. Fix \( c \in \R \) again and consider \( \epsilon = 1/4 \). Note that \( x = c + 1/2 \) satisfies \( \abs{x - c} = \abs{c + 1/2 - c} = 1/2 < 1 \), however
        \[
            \abs{f(x) - f(c)} = \abs{x - c} = 1/2 > 1/4 = \epsilon.
        \]
        Thus \( f \) is nowhere onetinuous.

        \item Let \( f \) be given by \( f(x) = 2x \) for all \( x \in \R \). Fix \( c \in \R \) and let \( \epsilon > 0 \) be given. Set \( \delta = \tfrac{\epsilon}{2} < \epsilon \). If \( x \in \R \) is such that \( \abs{x - c} < \delta \), then
        \[
            \abs{f(x) - f(c)} = 2 \abs{x - c} < 2 \delta = \epsilon.
        \]
        Thus \( f \) is lesstinuous on \( \R \). However, \( f \) is nowhere equaltinuous. Fix \( c \in \R \) again and let \( \epsilon = 1 \). Note that \( x = c + 3/4 \) satisfies \( \abs{x - c} = 3/4 < \epsilon \), however
        \[
            \abs{f(x) - f(c)} = 2 \abs{x - c} = 3/2 > \epsilon.
        \]
        Thus \( f \) is nowhere equaltinuous.

        \item It is clear that every lesstinuous function is continuous. We claim that every continuous function is lesstinuous. To see this, let \( f \) be a continuous function. Fix \( c \in \R \) and \( \epsilon > 0 \). Since \( f \) is continuous at \( c \), there is a \( \delta' > 0 \) such that \( \abs{f(x) - f(c)} < \epsilon \) whenever \( \abs{x - c} < \delta' \). Set \( \delta = \min \{ \delta', \tfrac{\epsilon}{2} \} \). Then \( 0 < \delta < \epsilon \) and if \( x \in \R \) is such that \( \abs{x - c} < \delta \), then \( x \) also satisfies \( \abs{x - c} < \delta' \) and hence \( \abs{f(x) - f(c)} < \epsilon \).
    \end{enumerate}
\end{solution}

\begin{exercise}
\label{ex:3}
    \begin{enumerate}
        \item Supply a proof for Theorem 4.3.9 using the \( \epsilon \)-\( \delta \) characterization of continuity.

        \item Give another proof of this theorem using the sequential characterization of continuity (from Theorem 4.3.2 (iii)).
    \end{enumerate}
\end{exercise}

\begin{solution}
    \begin{enumerate}
        \item Let \( a \in A \) and \( \epsilon > 0 \) be given. By assumption we have \( f(a) \in B \), so \( g \) is continuous at \( f(a) \). There then exists a \( \delta_1 > 0 \) such that
        \begin{equation}
            \abs{y - f(a)} < \delta_1 \text{ and } y \in B \implies \abs{g(y) - g(f(a))} < \epsilon.
        \end{equation}
        Since \( f \) is continuous at \( a \), there exists a \( \delta_2 > 0 \) such that
        \begin{equation}
            \abs{x - a} < \delta_2 \text{ and } x \in A \implies \abs{f(x) - f(a)} < \delta_1.
        \end{equation}
        Combining (1) and (2), we have
        \begin{multline*}
            \abs{x - a} < \delta_2 \text{ and } x \in A \implies \abs{f(x) - f(a)} < \delta_1 \text{ and } f(x) \in B \\ \implies \abs{g(f(x)) - g(f(a))} < \epsilon.
        \end{multline*}
        Thus \( g \circ f \) is continuous at each \( a \in A \).

        \item Let \( a \in A \) be given and suppose \( (a_n) \subseteq A \) is such that \( \lim a_n = a \). Since \( f \) is continuous at \( a \), Theorem 4.3.2 (iii) gives us \( \lim f(a_n) = f(a) \). By assumption \( g \) is continuous at \( f(a) \in B \) and \( (f(a_n)) \subseteq B \), so Theorem 4.3.2 (iii) again gives us \( \lim g(f(a_n)) = g(f(a)) \). One more application of Theorem 4.3.2 (iii) allows us to conclude that \( g \circ f \) is continuous at each \( a \in A \).
    \end{enumerate}
\end{solution}

\begin{exercise}
\label{ex:4}
    Assume \( f \) and \( g \) are defined on all of \( \R \) and that \( \lim_{x \to p} f(x) = q \) and \( \lim_{x \to q} g(x) = r \).
    \begin{enumerate}
        \item Give an example to show that it may not be true that
        \[
            \lim_{x \to p} g(f(x)) = r.
        \]

        \item Show that the result in (a) does follow if we assume \( f \) and \( g \) are continuous.

        \item Does the result in (a) hold if we only assume \( f \) is continuous? How about if we only assume that \( g \) is continuous?
    \end{enumerate}
\end{exercise}

\begin{solution}
    \begin{enumerate}
        \item Let \( f \) be given by \( f(x) = 0 \) for all \( x \in \R \) and let \( g \) be given by
        \[
            g(x) = \begin{cases}
                0 & \text{if } x \neq 0, \\
                1 & \text{if } x = 0.
            \end{cases}
        \]
        We have \( \lim_{x \to 0} f(x) = \lim_{x \to 0} g(x) = 0 \), however note that \( g(f(x)) = g(0) = 1 \) for all \( x \in \R \). It follows that
        \[
            \lim_{x \to 0} g(f(x)) = 1 \neq 0.
        \]

        \item By Theorem 4.3.9, the composition \( g \circ f \) is continuous. Since \( f \) and \( g \) are defined on all of \( \R \), Theorem 4.3.2 (iv) lets us write
        \[
            \lim_{x \to p} g(f(x)) = g(f(p)) = g \left( \lim_{x \to p} f(x) \right) = g(q) = \lim_{x \to q} g(x).
        \]

        \item As the counterexample in part (a) shows, the result does not hold if we only assume \( f \) is continuous. However, it does hold if we only assume \( g \) is continuous. To see this, let \( (x_n) \) be some sequence satisfying \( \lim x_n = p \) and \( x_n \neq p \). Theorem 4.2.3 shows that \( \lim f(x_n) = q \), and since \( g \) is continuous the sequential characterization of continuity implies that
        \[
            \lim g(f(x_n)) = g(q) = r,
        \]
        where the last equality also follows from the continuity of \( g \). Theorem 4.2.3 allows us to conclude that
        \[
            \lim_{x \to p} g(f(x)) = r.
        \]
    \end{enumerate}
\end{solution}

\begin{exercise}
\label{ex:5}
    Show using Definition 4.3.1 that if \( c \) is an isolated point of \( A \subseteq \R \), then \( f : A \to \R \) is continuous at \( c \).
\end{exercise}

\begin{solution}
    Since \( c \) is an isolated point of \( A \), there exists a \( \delta > 0 \) such that \( (c - \delta, c + \delta) \cap A = \{ c \} \). Let \( \epsilon > 0 \) be given. If \( x \in A \) is such that \( \abs{x - c} < \delta \), then it must be the case that \( x = c \), which gives us
    \[
        \abs{f(x) - f(c)} = \abs{f(c) - f(c)} = 0 < \epsilon.
    \]
    Thus \( f \) is continuous at \( c \).
\end{solution}

\begin{exercise}
\label{ex:6}
    Provide an example of each or explain why the request is impossible.
    \begin{enumerate}
        \item Two functions \( f \) and \( g \), neither of which is continuous at 0 such that \( f(x)g(x) \) and \( f(x) + g(x) \) are continuous at 0.

        \item A function \( f(x) \) continuous at 0 and \( g(x) \) not continuous at 0 such that \( f(x) + g(x) \) is continuous at 0.

        \item A function \( f(x) \) continuous at 0 and \( g(x) \) not continuous at 0 such that \( f(x)g(x) \) is continuous at 0.

        \item A function \( f(x) \) not continuous at 0 such that \( f(x) + \tfrac{1}{f(x)} \) is continuous at 0.

        \item A function \( f(x) \) not continuous at 0 such that \( [f(x)]^3 \) is continuous at 0.
    \end{enumerate}
\end{exercise}

\begin{solution}
    \begin{enumerate}
        \item Let \( f, g : \R \to \R \) be given by
        \[
            f(x) = \begin{cases}
                0 & \text{if } x \neq 0, \\
                1 & \text{if } x = 0,
            \end{cases}
            \quad\quad\quad
            g(x) = \begin{cases}
                1 & \text{if } x \neq 0, \\
                0 & \text{if } x = 0.
            \end{cases}
        \]
        Neither \( f \) nor \( g \) is continuous at 0, however note that for all \( x \in \R \) we have
        \[
            f(x)g(x) = 0 \quand f(x) + g(x) = 1.
        \]
        Thus \( fg \) and \( f + g \) are continuous at 0.

        \item This is impossible. If \( f \) and \( f + g \) are continuous at 0 then Theorem 4.3.4 implies that \( g = f + g - f \) is continuous at 0.

        \item Take \( g \) as in part (a) and let \( f(x) = 0 \) for all \( x \in \R \). Then \( g \) is not continuous at 0 but \( f = fg \) is continuous at 0.

        \item Let \( f : \R \to \R \) be given by
        \[
            f(x) = \begin{cases}
                \sqrt{2} - 1 & \text{if } x \neq 0, \\
                \sqrt{2} + 1 & \text{if } x = 0.
            \end{cases}
        \]
        Then \( f \) is discontinuous at 0, but one can verify that \( f(x) + \tfrac{1}{f(x)} = 2 \sqrt{2} \) for all \( x \in \R \) and hence \( f + \tfrac{1}{f} \) is continuous at 0.

        \item This is impossible. As we showed in \Cref{ex:1}, the function \( g(x) = \sqrt[3]{x} \) is continuous everywhere. Thus if \( [f(x)]^3 \) is continuous at 0, then by Theorem 4.3.9 the composition
        \[
            f(x) = \sqrt[3]{[f(x)]^3}
        \]
        must also be continuous at 0.
    \end{enumerate}
\end{solution}

\begin{exercise}
\label{ex:7}
    \begin{enumerate}
        \item Referring to the proper theorems, give a formal argument that Dirichlet's function from Section 4.1 is nowhere-continuous on \( \R \).

        \item Review the definition of Thomae's function in Section 4.1 and demonstrate that it fails to be continuous at every rational point.

        \item Use the characterization of continuity in Theorem 4.3.2 (iii) to show that Thomae's function is continuous at every irrational point in \( \R \). (Given \( \epsilon > 0 \), consider the set of points \( \{ x \in \R : t(x) \geq \epsilon \} \).)
    \end{enumerate}
\end{exercise}

\begin{solution}
    \begin{enumerate}
        \item Let \( g : \R \to \R \) be Dirichlet's function, i.e.\
        \[
            g(x) = \begin{cases}
                1 & \text{if } x \in \Q, \\
                0 & \text{if } x \not\in \Q.
            \end{cases}
        \]
        Suppose \( c \in \Q \). By the density of \( \I \) in \( \R \), for any \( \delta > 0 \) there is an irrational number \( x \in \I \) such that \( x \in V_{\delta}(c) \); it follows that \( g(x) = 0 \not\in V_1(1) = V_1(g(c)) \). Thus by (the negation of) Theorem 4.3.2 (ii), \( g \) is not continuous at \( c \).

        Similarly, suppose \( c \in \I \). By the density of \( \Q \) in \( \R \), for any \( \delta > 0 \) there is a rational number \( x \in \Q \) such that \( x \in V_{\delta}(c) \); it follows that \( g(x) = 1 \not\in V_1(0) = V_1(g(c)) \). Thus by (the negation of) Theorem 4.3.2 (ii), \( g \) is not continuous at \( c \).

        We have now shown that \( g \) fails to be continuous at each \( c \in \R \), i.e.\ that \( g \) is nowhere-continuous on \( \R \).

        \item Let \( t : \R \to \R \) be Thomae's function, i.e.\
        \[
            t(x) = \begin{cases}
                1 & \text{if } x = 0, \\
                1/n & \text{if } x = m/n \in \Q \setminus \{ 0 \} \text{ is in lowest terms with } n > 0, \\
                0 & \text{if } x \not\in \Q.
            \end{cases}
        \]
        Suppose \( c \in \Q \). The density of \( \I \) in \( \R \) allows us to pick a sequence of irrational numbers \( (x_n) \) such that \( \lim x_n = c \). We then have \( t(x_n) = 0 \) for each \( n \in \N \) and so \( \lim t(x_n) = 0 \). However, \( t(c) \) is strictly positive; it follows that \( \lim t(x_n) \neq t(c) \). Corollary 4.3.3 allows us to conclude that \( t \) is not continuous at \( c \in \Q \). Thus \( t \) fails to be continuous on \( \Q \).

        \item We will use the following lemma, which was proved in the solution to \href{https://lew98.github.io/Mathematics/UA_Section_4_2_Exercises.pdf}{Exercise 4.2.3 (c)}.

        \noindent \textbf{Lemma 1}. Suppose \( c \in \R \) and \( K \in \N \). There exists a \( \delta > 0 \) such that if \( \tfrac{a}{b} \neq c \) is a rational number contained in \( V_{\delta}(c) \) with \( b > 0 \), then \( b > K \).

        Suppose \( c \in \I \) and suppose we have a sequence \( (x_n) \) such that \( \lim x_n = c \). Our aim is to show that \( \lim t(x_n) = t(c) = 0 \). Let \( \epsilon > 0 \) be given and choose \( K \in \N \) such that \( \tfrac{1}{K} < \epsilon \). By Lemma 1, there exists a \( \delta > 0 \) such that if \( y = \tfrac{a}{b} \) is a rational number contained in \( V_{\delta}(c) \) with \( b > 0 \), then \( b > K \). For such a \( y \), we then have \( t(y) = \tfrac{1}{b} < \tfrac{1}{K} < \epsilon \). Since \( \lim x_n = c \), there is an \( N \in \N \) such that \( x_n \in V_{\delta}(c) \) for all \( n \geq N \). Suppose \( n \in \N \) satisfies \( n \geq N \). There are two cases.
        \begin{description}
            \item[Case 1.] \( x_n \in \I \). Then \( \abs{t(x_n)} = 0 < \epsilon \).
            
            \item[Case 2.] \( x_n \in \Q \). Then since \( x_n \in V_{\delta}(c) \), as noted before we have \( \abs{t(x_n)} < \tfrac{1}{K} < \epsilon \).
        \end{description}
        In either case we have \( \abs{t(x_n)} < \epsilon \) and thus \( \lim t(x_n) = t(c) = 0 \) as desired. Theorem 4.3.2 (iii) allows us to conclude that \( t \) is continuous at \( c \in \I \) and hence that \( t \) is continuous on \( \I \).
    \end{enumerate}
\end{solution}

\begin{exercise}
\label{ex:8}
    Decide if the following claims are true or false, providing either a short proof or counterexample to justify each conclusion. Assume throughout that \( g \) is defined and continuous on all of \( \R \).
    \begin{enumerate}
        \item If \( g(x) \geq 0 \) for all \( x < 1 \), then \( g(1) \geq 0 \) as well.

        \item If \( g(r) = 0 \) for all \( r \in \Q \), then \( g(x) = 0 \) for all \( x \in \R \).

        \item If \( g(x_0) > 0 \) for a single point \( x_0 \in \R \), then \( g(x) \) is in fact strictly positive for uncountably many points.
    \end{enumerate}
\end{exercise}

\begin{solution}
    \begin{enumerate}
        \item This is true. Let \( (x_n) \) be the sequence given by \( x_n = 1 - \tfrac{1}{n} \). Since \( g \) is continuous at 1 and \( \lim x_n = 1 \), Theorem 4.3.2 (iii) implies that \( \lim g(x_n) = g(1) \). Note that \( x_n < 1 \) for each \( n \in \N \), so that \( g(x_n) \geq 0 \) for each \( n \in \N \). The Order Limit Theorem (Theorem 2.3.4) allows us to conclude that \( \lim g(x_n) = g(1) \geq 0 \) also.

        \item This is true. Let \( x \in \R \) be given. By the density of \( \Q \) in \( \R \), there is a sequence \( (r_n) \) of rational numbers such that \( \lim r_n = x \). On the one hand, by the continuity of \( g \) at \( x \), we must have \( \lim g(r_n) = g(x) \). On the other hand, \( g(r_n) = 0 \) for all \( n \in \N \) and thus \( \lim g(r_n) = 0 \). Since the limit of a sequence is unique, we see that \( g(x) = 0 \).
        
        \item This is true. Since \( g \) is continuous at \( x_0 \), for \( \epsilon = g(x_0) > 0 \) there is a \( \delta > 0 \) such that \( g(x) \in V_{\epsilon}(g(x_0)) = (0, 2 g(x_0)) \) whenever \( x \in V_{\delta}(x_0) \). In other words, for each of the uncountably many \( x \in (x_0 - \delta, x_0 + \delta) \), we have \( g(x) > 0 \).
    \end{enumerate}
\end{solution}

\begin{exercise}
\label{ex:9}
    Assume \( h : \R \to \R \) is continuous on \( \R \) and let \( K = \{ x : h(x) = 0 \} \). Show that \( K \) is a closed set.
\end{exercise}

\begin{solution}
    Suppose that \( (x_n) \subseteq K \) is a convergent sequence with \( \lim x_n = x \) for some \( x \in \R \). The continuity of \( h \) implies that \( \lim h(x_n) = h(x) \). Since each \( x_n \in K \), we have \( h(x_n) = 0 \) for each \( n \in \N \) and thus \( \lim h(x_n) = 0 \). The uniqueness of the limit of a sequence implies that \( h(x) = 0 \), i.e.\ that \( x \in K \). Theorem 3.2.8 allows us to conclude that \( K \) is closed.
\end{solution}

\begin{exercise}
\label{ex:10}
    Observe that if \( a \) and \( b \) are real numbers, then
    \[
        \max \{ a, b \} = \frac{1}{2} [(a + b) + \abs{a - b}].
    \]
    \begin{enumerate}
        \item Show that if \( f_1, f_2, \ldots, f_n \) are continuous functions, then
        \[
            g(x) = \max \{ f_1(x), f_2(x), \ldots, f_n(x) \}
        \]
        is a continuous function.

        \item Let's explore whether the result in (a) extends to the infinite case. For each \( n \in \N \), define \( f_n \) on \( \R \) by
        \[
            f_n(x) = \begin{cases}
                1 & \text{if } \abs{x} \geq 1/n \\
                n \abs{x} & \text{if } \abs{x} < 1/n.
            \end{cases}
        \]
        Now explicitly compute \( h(x) = \sup \{ f_1(x), f_2(x), f_3(x), \ldots \} \).
    \end{enumerate}
\end{exercise}

\begin{solution}
    \begin{enumerate}
        \item First, let us show that the function \( x \mapsto \abs{x} \) is continuous. If \( y \in \R \) and \( \epsilon > 0 \), set \( \delta = \epsilon \) and suppose that \( \abs{x - y} < \delta \). By \href{https://lew98.github.io/Mathematics/UA_Section_1_2_Exercises.pdf}{Exercise 1.2.6 (d)} (the reverse triangle inequality), we have
        \[
            \abs{\abs{x} - \abs{y}} \leq \abs{x - y} < \delta = \epsilon.
        \]
        Hence \( x \mapsto \abs{x} \) is continuous on \( \R \).
        
        Now suppose that \( f_1, f_2 : A \to \R \) are two continuous functions defined on some domain \( A \subseteq \R \). For any \( x \in A \), note that
        \[
            g(x) = \max \{ f_1(x), f_2(x) \} = \frac{1}{2}[(f_1(x) + f_2(x)) + \abs{f_1(x) - f_2(x)}].
        \]
        Since \( f_1 \) and \( f_2 \) are continuous on \( A \), and we showed that \( x \mapsto \abs{x} \) is continuous everywhere, Theorem 4.3.9 and several applications of Theorem 4.3.4 show that \( g \) is also continuous on \( A \).

        Using the observation that
        \[
            \max \{ f_1(x), f_2(x), \ldots, f_n(x) \} = \max \{ \max \{ f_1(x), f_2(x), \ldots, f_{n-1}(x) \}, f_n(x) \},
        \]
        a simple induction argument on \( n \) shows that the maximum of \( n \) continuous functions is a continuous function.

        \item If \( x = 0 \), then for each \( n \in \N \) we have \( f_n(0) = 0 \) and thus \( h(0) = 0 \). If \( x \neq 0 \), then choose \( n \in \N \) such that \( \tfrac{1}{n} < \abs{x} \). It follows that \( f_n(x) = 1 \) and thus \( h(x) = 1 \). So \( h \) is the function
        \[
            h(x) = \begin{cases}
                1 & \text{if } x \neq 0, \\
                0 & \text{if } x = 0,
            \end{cases}
        \]
        which is not continuous at 0.
    \end{enumerate}
\end{solution}

\begin{exercise}[Contraction Mapping Theorem]
\label{ex:11}
    Let \( f \) be a function defined on all of \( \R \), and assume there is a constant \( c \) such that \( 0 < c < 1 \) and
    \[
        \abs{f(x) - f(y)} \leq c \abs{x - y}
    \]
    for all \( x, y \in \R \).
    \begin{enumerate}
        \item Show that \( f \) is continuous on \( \R \).

        \item Pick some point \( y_1 \in \R \) and construct the sequence
        \[
            (y_1, f(y_1), f(f(y_1)), \ldots).
        \]
        In general, if \( y_{n+1} = f(y_n) \), show that the resulting sequence \( (y_n) \) is a Cauchy sequence. Hence we may let \( y = \lim y_n \).

        \item Prove that \( y \) is a fixed point of \( f \) (i.e., \( f(y) = y \)) and that it is unique in this regard.

        \item Finally, prove that if \( x \) is \textit{any} arbitrary point in \( \R \), then the sequence \( (x, f(x), f(f(x)), \ldots) \) converges to \( y \) defined by (b).
    \end{enumerate}
\end{exercise}

\begin{solution}
    \begin{enumerate}
        \item Let \( y \in \R \) and \( \epsilon > 0 \) be given. Set \( \delta = \tfrac{\epsilon}{c} \) and suppose that \( x \in \R \) is such that \( \abs{x - y} < \delta \). Then
        \[
            \abs{f(x) - f(y)} \leq c \abs{x - y} < c \delta = \epsilon.
        \]
        Hence \( f \) is continuous at each \( y \in \R \).

        \item Suppose \( n > m \) are positive integers. Repeatedly applying the triangle inequality yields
        \[
            \abs{y_n - y_m} \leq \abs{y_n - y_{n-1}} + \cdots + \abs{y_{m+1} - y_m} = \sum_{k=m}^{n-1} \abs{y_{k+1} - y_k}.
        \]
        Now we use the hypothesis that \( \abs{f(x) - f(y)} \leq c \abs{x - y} \) for all \( x, y \in \R \) and the definition of the sequence \( y_n = f(y_{n-1}) \) to see that
        \[
            \sum_{k=m}^{n-1} \abs{y_{k+1} - y_k} \leq \sum_{k=m}^{n-1} c \abs{y_k - y_{k-1}} \leq \cdots \leq \sum_{k=m}^{n-1} c^{k-1} \abs{y_2 - y_1} = c^{-2} \abs{y_2 - y_1} \sum_{k=m+1}^n c^k.
        \]
        If we let \( s_n = \sum_{k=0}^n c^k \), then we have shown that for all positive integers \( n > m \) we have the inequality
        \[
            \abs{y_n - y_m} \leq c^{-2} \abs{y_2 - y_1} (s_n - s_m). \tag{1}
        \]
        Let \( \epsilon > 0 \) be given. The series \( \sum_{k=0}^{\infty} c^k \) is convergent since \( 0 < c < 1 \), so the sequence \( (s_n) \) is Cauchy. There then exists an \( N \in \N \) such that
        \[
            n > m \geq N \implies \abs{s_n - s_m} = s_n - s_m < \frac{c^2}{\abs{y_2 - y_1} + 1} \epsilon. \tag{2}
        \]
        Suppose \( n, m \) are positive integers such that \( n > m \geq N \). By (1) and (2) we then have
        \[
            \abs{y_n - y_m} \leq c^{-2} \abs{y_2 - y_1} \frac{c^2}{\abs{y_2 - y_1} + 1} \epsilon < \epsilon.
        \]
        Thus \( (y_n) \) is a Cauchy sequence.

        \item Since \( f \) is continuous at \( y \), we have \( \lim f(y_n) = f(y) \). It follows that
        \[
            y = \lim y_{n+1} = \lim f(y_n) = f(y).
        \]
        For uniqueness, observe that for any \( x \in \R \) such that \( x = f(x) \) we have
        \[
            \abs{x - y} = \abs{f(x) - f(y)} \leq c \abs{x - y}.
        \]
        If \( \abs{x - y} \) were not zero, this would imply that \( c \geq 1 \). Since \( 0 < c < 1 \), it must be the case that \( \abs{x - y} = 0 \), i.e.\ that \( x = y \).

        \item Let \( x_1 = x \) and \( x_{n+1} = f(x_n) \). As we just proved, \( (x_n) \) converges to some \( y' \in \R \) such that \( f(y') = y' \). The uniqueness part of (c) then implies that \( y' = y \).
    \end{enumerate}
\end{solution}

\begin{exercise}
\label{ex:12}
    Let \( F \subseteq \R \) be a nonempty closed set and define \( g(x) = \inf \{ \abs{x - a} : a \in F \} \). Show that \( g \) is continuous on all of \( \R \) and \( g(x) \neq 0 \) for all \( x \not\in F \).
\end{exercise}

\begin{solution}
    If \( A \) and \( B \) are non-empty and bounded below subsets of \( \R \) such that \( a \leq b \) for all \( a \in A \) and \( b \in B \), then it straightforward to verify that \( \inf A \leq \inf B \).
    
    Fix \( c \in \R \) and note that for any \( x \in \R \) and \( a \in F \), we have \( \abs{x - a} \leq \abs{x - c} + \abs{c - a} \). By the previous paragraph, this implies that
    \[
        \inf \{ \abs{x - a} : a \in F \} \leq \inf \{ \abs{x - c} + \abs{c - a} : a \in F \}.
    \]
    A statement analogous to Example 1.3.7 for infima then gives us
    \[
        \inf \{ \abs{x - a} : a \in F \} \leq \abs{x - c} + \inf \{ \abs{c - a} : a \in F \},
    \]
    or equivalently \( g(x) - g(c) \leq \abs{x - c} \). We can similarly derive \( g(c) - g(x) \leq \abs{x - c} \) and hence
    \[
        \abs{g(x) - g(c)} \leq \abs{x - c}.
    \]
    Thus for any \( \epsilon > 0 \) we can take \( \delta = \epsilon \) and obtain
    \[
        \abs{x - c} < \delta \implies \abs{g(x) - g(c)} < \epsilon.
    \]
    It follows that \( g \) is continuous at each \( c \in \R \).

    Suppose that \( g(x) = 0 \). Using Lemma 1.3.8, we can choose a sequence \( (a_n) \subseteq F \) such that \( \lim \abs{x - a_n} = g(x) = 0 \), which is equivalent to \( \lim a_n = x \). Since \( F \) is closed, Theorem 3.2.8 implies that \( x \in F \). Thus if \( x \not\in F \), it must be the case that \( g(x) \neq 0 \).
\end{solution}

\begin{exercise}
\label{ex:13}
    Let \( f \) be a function defined on all of \( \R \) that satisfies the additive condition \( f(x + y) = f(x) + f(y) \) for all \( x, y \in \R \).
    \begin{enumerate}
        \item Show that \( f(0) = 0 \) and that \( f(-x) = -f(x) \) for all \( x \in \R \).

        \item Let \( k = f(1) \). Show that \( f(n) = kn \) for all \( n \in \N \), and then prove that \( f(z) = kz \) for all \( z \in \Z \). Now, prove that \( f(r) = kr \) for any rational number \( r \).

        \item Show that if \( f \) is continuous at \( x = 0 \), then \( f \) is continuous at every point in \( \R \) and conclude that \( f(x) = kx \) for all \( x \in \R \). Thus, any additive function that is continuous at \( x = 0 \) must necessarily be a linear function through the origin.
    \end{enumerate}
\end{exercise}

\begin{solution}
    \begin{enumerate}
        \item We have \( f(0) = f(0 + 0) = f(0) + f(0) \) and so \( f(0) = 0 \). Furthermore, for any \( x \in \R \),
        \[
            0 = f(0) = f(x - x) = f(x) + f(-x) \implies f(-x) = -f(x).
        \]

        \item We will show that \( f(n) = kn \) for all \( n \in \N \) by induction on \( n \). The base case is clear, so suppose that \( f(n) = kn \) for some \( n \in \N \). Then
        \[
            f(n + 1) = f(n) + f(1) = kn + k = k(n + 1).
        \]
        This completes the induction step and the proof.

        Combining the identity \( f(n) = kn \) with \( f(-x) = -f(x) \) from part (a), we see that \( f(z) = kz \) for all \( z \in \Z \).

        Now suppose that \( r = \tfrac{m}{n} \) is a rational number. On one hand, using what we just proved,
        \[
            f \left( n \tfrac{m}{n} \right) = f(m) = km.
        \]
        On the other hand, using the additivity of \( f \),
        \[
            f \left( n \tfrac{m}{n} \right) = f \left( \sum_{j=1}^n \tfrac{m}{n} \right) = \sum_{j=1}^n f \left( \tfrac{m}{n} \right) = n f \left( \tfrac{m}{n} \right).
        \]
        Thus \( n f \left( \tfrac{m}{n} \right) = km \), i.e.\ \( f(r) = kr \).

        \item Let \( c \in \R \) be given and suppose \( (x_n) \) is a convergent sequence satisfying \( \lim x_n = c \). Then since \( \lim (x_n - c) = 0 \) and \( f \) is continuous at 0, we must have \( \lim f(x_n - c) = f(0) = 0 \). By the additivity of \( f \), for each \( n \in \N \) we have \( f(x_n - c) = f(x_n) - f(c) \). It follows that
        \[
            0 = \lim f(x_n - c) = \lim (f(x_n) - f(c)) = (\lim f(x_n)) - f(c),
        \]
        which implies \( \lim f(x_n) = f(c) \). Thus \( f \) is continuous at each \( c \in \R \).

        By Theorem 4.3.4, the function \( f(x) - kx \) is continuous on all of \( \R \) and, by part (b), satisfies \( f(r) - kr = 0 \) for each \( r \in \Q \). \Cref{ex:8} (b) allows us to conclude that \( f(x) - kx = 0 \), i.e.\ that \( f(x) = kx \), for all \( x \in \R \).
    \end{enumerate}
\end{solution}

\begin{exercise}
\label{ex:14}
    \begin{enumerate}
        \item Let \( F \) be a closed set. Construct a function \( f : \R \to \R \) such that the set of points where \( f \) fails to be continuous is precisely \( F \). (The concept of the interior of a set, discussed in \href{https://lew98.github.io/Mathematics/UA_Section_3_2_Exercises.pdf}{Exercise 3.2.14}, may be useful.)

        \item Now consider an open set \( O \). Construct a function \( g : \R \to \R \) whose set of discontinuous points is precisely \( O \). (For this problem, the function in \Cref{ex:12} may be useful.)
    \end{enumerate}
\end{exercise}

\begin{solution}
    \begin{enumerate}
        \item Define \( f : \R \to \R \) by
        \[
            f(x) = \begin{cases}
                1 & \text{if } x \in \Q \cap F, \\
                -1 & \text{if } x \in \I \cap F, \\
                0 & \text{if } x \not\in F.
            \end{cases}
        \]
        If \( x \not\in F \), then \( x \) belongs to the open set \( \setcomp{F} \) and so there exists a \( \delta > 0 \) such that \( (x - \delta, x + \delta) \subseteq \setcomp{F} \). Since \( f \) vanishes on this proper interval, we see that \( f \) is continuous at \( x \).

        Suppose \( x \in \Q \cap F \) and let \( \delta > 0 \) be given. We consider two cases.
        \begin{description}
            \item[Case 1.] If \( (x - \delta, x + \delta) \subseteq F \), then we can find an irrational \( y \in (x - \delta, x + \delta) \). It follows that
            \[
                f(y) = -1 \not\in (0, 2) = (f(x) - 1, f(x) + 1).
            \]

            \item[Case 2.] If \( (x - \delta, x + \delta) \not\subseteq F \), then we can find some \( y \in (x - \delta, x + \delta) \) such that \( y \not\in F \). It follows that
            \[
                f(y) = 0 \not\in (0, 2) = (f(x) - 1, f(x) + 1).
            \]
        \end{description}
        Thus \( f \) is not continuous at \( x \). A similar argument shows that \( f \) is not continuous at any \( x \in \I \cap F \). We may conclude that the set of points where \( f \) fails to be continuous is precisely \( F \).

        \item Let \( d : \R \to \R \) be Dirichlet's function and let \( h : \R \to \R \) be the function given by
        \[
            h(x) = \inf \{ \abs{x - a} : a \in \setcomp{O} \}.
        \]
        In \Cref{ex:12} we showed that \( h \) is continuous everywhere. Furthermore, since \( \setcomp{O} \) is closed, \Cref{ex:12} also shows that \( h \) satisfies \( h(x) > 0 \) for all \( x \in O \) and \( h(x) = 0 \) for all \( x \not\in O \). Define \( g : \R \to \R \) by \( g(x) = d(x) h(x) \) and suppose that \( x \in O \). Since \( h(x) > 0 \) and \( h \) is continuous at \( x \), by (the solution to) \Cref{ex:8} (c) there is some \( \delta > 0 \) such that \( h \) is strictly positive on the interval \( I = (x - \delta, x + \delta) \). It follows that for all \( t \in I \) we have \( d(t) = \tfrac{g(t)}{h(t)} \). If \( g \) were continuous at \( x \) then Theorem 4.3.4 would imply that \( d \) is continuous at \( x \). Since Dirichlet's function is nowhere-continuous, it must be the case that \( g \) fails to be continuous at \( x \). Thus \( g \) is discontinuous on \( O \).

        Now suppose that \( x \not\in O \), so that \( h(x) = 0 \) and thus \( g(x) = 0 \). For any \( y \in \R \), we then have
        \[
            \abs{g(y) - g(x)} = \abs{g(y)} = \abs{d(y)h(y)} = \abs{d(y)} \abs{h(y)} \leq \abs{h(y)}.
        \]
        Since \( h \) is continuous at \( x \) and \( h(x) = 0 \), for any \( \epsilon > 0 \) there exists a \( \delta > 0 \) such that
        \[
            \abs{y - x} < \delta \implies \abs{h(y)} < \epsilon.
        \]
        It follows that \( \abs{g(y)} < \epsilon \) for such \( y \) and we see that \( g \) is continuous at \( x \). We may conclude that the set of points where \( g \) fails to be continuous is precisely \( O \).
    \end{enumerate}
\end{solution}

\noindent \hrulefill

\noindent \hypertarget{ua}{\textcolor{blue}{[UA]} Abbott, S. (2015) \textit{Understanding Analysis.} 2\ts{nd} edition.}

\end{document}